<div class="w-full h-full grid gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-4  overflow-y-scroll p-4" *ngIf="products$|async as products">

  <form [formGroup]="form" class="col-span-full grid grid-cols-2 md:grid-cols-6">

   <select formControlName="district" class="select select-bordered" (change)="changeDistrict()" >
      <option value="" disabled selected>District</option> 
      <option>All</option>
      <option [ngValue]="district.name" *ngFor="let district of districts">{{district.name}}</option>
   </select>

   <select formControlName="sub_district" class="select select-bordered ">
      <option value="" disabled selected>SubDistrict</option> 
      <option>All</option>
      <option [ngValue]="district.id" *ngFor="let district of selectedSubdistricts">{{district.name}}</option>
   </select>

   <select class="select select-bordered" formControlName="order">
      <option value selected disabled>order</option>
      <option ngValue="asc">Hight to low</option>
      <option ngValue="dsc">Low to heigh</option>
   </select>

   <select class="select select-bordered" formControlName="catagory">
      <option value="" selected disabled>Catagory</option>
      <option>all</option>
      <option *ngFor="let catagory of catagories$|async" [ngValue]="catagory.id">{{catagory.name}}</option>
   </select>

   <div class="btn-group col-span-2">
   <input type="text" formControlName="key" class="input input-bordered w-full" placeholder="search"> 
   <button class="btn btn-primary" (click)="search()">search</button>
   </div>
  </form>


<div class="card bg-base-100 shadow-xl" *ngFor="let product of products">
  <figure><img [src]="product.pictureURI" alt="Shoes" /></figure>
  <div class="card-body">
      <h2 class="card-title line-clamp-1">{{product.name}}</h2>
      <p> Asking Price: {{product.prices|currency}}</p>
      <p> Highest Bid: {{product.highestBid|currency}}</p>
    <div class="card-actions justify-end">
      <button class="btn btn-primary" [routerLink]="'/products/'+product.id">Show Details</button>
    </div>
  </div>
</div>

<div class="btn-group col-span-full flex justify-center" >
  <button class="btn btn-ghost" (click)="pre()">«</button>
    <button class="btn btn-ghost">Page {{pageNumber}}</button>
  <button class="btn btn-ghost" (click)="next()">»</button>
</div>

</div>
